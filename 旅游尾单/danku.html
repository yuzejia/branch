<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>单库</title>
    <script src="js/libyys-flexible.js"></script>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/swiper-3.4.2.min.css">
    <link rel="stylesheet" href="css/travelHome.css">
    <style>
        .container{
            position: relative;
        }
        .box{
            float: left;
            padding:15px 0 0 7.5px;
        }
        .pic{
            padding:10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            box-shadow: 0 0 6px #ccc;
        }
        .container img{
            width:150px;
        }
    </style>
</head>
<body class="scope">
<div class="travel">
    <header>
        <img class="Left" src="img/Left1.png" alt="">
        单库
        <a href="JavaScript:0;" class="right" style="width: 0.6rem"> 筛选 </a>
    </header>
    <div class="content">
        <div class="filtrate">
            <div class="filt_list">
                <div>时间</div>
                <div>价位</div>
                <div>地域</div>
            </div>
            <div class="tabs">
                <div>
                    <ul>
                        <li>一天</li>
                        <li>两天</li>
                        <li>三天</li>
                        <li>四天</li>
                        <li>五天</li>
                        <li>六天</li>
                    </ul>
                </div>
                <div></div>
                <div></div>
            </div>
        </div>


        <div class="container">
            <div class="box">
                <div class="pic"><img src="img/u=506330584,1735364885&fm=23&gp=0.jpg" alt="" /></div>
            </div>
            <div class="box">
                <div class="pic"><img src="img/u=3078336511,3371836423&fm=23&gp=0.jpg" alt="" /></div>
            </div>
            <div class="box">
                <div class="pic"><img src="img/u=4186807976,1707145605&fm=23&gp=0.jpg" alt="" /></div>
            </div>
            <div class="box">
                <div class="pic"><img src="img/u=3078336511,3371836423&fm=23&gp=0.jpg" alt="" /></div>
            </div>
            <div class="box">
                <div class="pic"><img src="img/u=4186807976,1707145605&fm=23&gp=0.jpg" alt="" /></div>
            </div>
            <div class="box">
                <div class="pic"><img src="img/u=3078336511,3371836423&fm=23&gp=0.jpg" alt="" /></div>
            </div>
            <div class="box">
                <div class="pic"><img src="img/u=4186807976,1707145605&fm=23&gp=0.jpg" alt="" /></div>
            </div>
        </div>

    </div>


    <div class="footer">
        <div>
            <a href="indentJilv.html">
                <p><img width="20" src="img/dingdan1.png" alt=""></p>
                <p>订单</p>
            </a>
        </div>
        <div>
            <a  href="index.html">
                <p><img width="20" src="img/home1.png" alt=""></p>
                主页
            </a>
        </div>
        <div>
            <a style="color: #000;" href="javascript:0;">
            <p><img width="20" src="img/danku.png" alt=""></p>
            <a  style="color: #000" href="danku.html">单库</a>
        </div>
    </div>
</div>
<script src="js/jquery.1.11.3.js"></script>
<script src="js/swiper-3.4.2.min.js"></script>
<script src="js/pubu.js"></script>
<script>
    $(window).load(function(){
        waterfall();
    });
    function waterfall(){
        var oBox = $(".container>div");//获取所有的直接子元素
        var w = oBox.eq(0).outerWidth();//获取一张图片的宽度
        var vW = $(window).width();//获取可视区域的宽度
        var cols = parseInt(vW / w);//得到列数
//        $(".container").css({"width":cols * w + "px","margin":"0 auto"});
        var hArr = [];
        oBox.each(function(i,ele){
            var h = $(this).outerHeight();//获取所有的div的高度
            if(i < cols){  //下标小于列数时  第一行
                hArr[i] = h;  //把第一行所有的高度放到数组里
//					hArr.push(h);
//					console.log(hArr);
                $(ele).css({"position":"absolute","top":0 + "px","left":i * w + "px"});
            }else{
                var minH = Math.min.apply(null,hArr);//求数组中的最小高度
                var minIndex = getIndex(minH);//最小高度的下标
//					console.log(minIndex)
                $(ele).css({"position":"absolute","top":minH + "px","left":minIndex * w + "px"});
                hArr[minIndex] = hArr[minIndex] + $(ele).outerHeight();
            }
        });

        function getIndex(m){
            for(var j = 0;j <= hArr.length-1;j++){
                if(hArr[j] == m){
                    return j;
                }
            }
        }
    }


</script>
</body>
</html>